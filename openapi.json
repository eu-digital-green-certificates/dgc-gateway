{"openapi":"3.0.1","info":{"title":"Digital Green Certificate Gateway","description":"The API defines how to exchange verification information for digital green certificates.","license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0"},"version":"1.1.1"},"servers":[{"url":"http://localhost:8090","description":"Generated server url"}],"paths":{"/signerCertificate":{"post":{"tags":["Signer Information"],"summary":"Uploads Signer Certificate of a trusted Issuer","operationId":"postVerificationInformation","parameters":[{"name":"Content-Type","in":"header","required":true,"schema":{"type":"string"},"example":"application/cms"},{"name":"Content-Encoding","in":"header","required":true,"schema":{"type":"string"},"example":"base64"}],"requestBody":{"description":"Request body with payload. (limited)","content":{"application/cms":{"schema":{"type":"string","example":"MIICyDCCAbCgAwIBAgIGAXR3DZUUMA0GCSqGSIb3DQEBBQUAMBwxCzAJBgNVBAYTAkRFMQ0wCwYDVQQDDARkZW1vMB4XDTIwMDgyNzA4MDY1MloXDTIxMDkxMDA4MDY1MlowHDELMAkGA1UEBhMCREUxDTALBgNVBAMMBGRlbW8wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCKR0TEJOO4z0ks4OMAovcyxuPpeZuR1JykNNFd3OR+vFWJLJtDYgRjtuqSuKCghLa/ci+0yIs3OeitGtajqFIukYksvX2LxOZDYDUbnpGQDPNMVmpEavDBbvKON8C8K036pC41bNvwkTrfUyZ8iE+hV2+kj1SHUyw7jweEUoiwNmMiaXXPiMIOj7D0qnmM+iTGN9g/DrJ/IvvsgiGpK3QlQ5pnHs2BvzrSw4LFAZ8cSQfWKheZVHfQf26mJFdEzowrzfzForDdeFAPIIirhufE3jWFxj1thfztu+VSMj84sDqodEt2VJOY+DvLB1Ls/26LSmFtMnCEuBAhkbQ1E0tbAgMBAAGjEDAOMAwGA1UdEwEB/wQCMAAwDQYJKoZIhvcNAQEFBQADggEBABaMEQz4Gbj+G0SZGZaIDoUFDB6n1R6iUS0zTBgsV8pSpFhwPryRiLdeNzIzsDdQ1ack1NfQ6YPn3/yOJ/SvnXs6n+vOWQW2KsuiymPSd/wjeywRRMfCysHjrmE+m+8lrFDrKuPnrACwQIsX9PDEsRRBnpSy5NKUZn6u3iPV9x6rwYCdCa/8VDGLqVb3eEE5dbFaYG9uW02cSbmsiZm8KmW8b6BFeIwHVRAH6Cs1VZI8UIrdVGCE111tUo/0957rF+/doFyJcwX+4ESH0m2MsHFjXDfGU8yTjiUh/b2Erk4TCmrJpux30QRhsNZwkmEYSbRv+vp5/obgH1mL5ouoV5I="}}},"required":true},"responses":{"201":{"description":"Verification Information was created successfully."},"400":{"description":"Bad request. Possible reasons: Wrong Format, no CMS, not the correct signing alg, missing attributes, invalid signature, certificate not signed by known CA","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemReport"}}}},"401":{"description":"Unauthorized. No Access to the system. (Client Certificate not present or whitelisted)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemReport"}}}},"409":{"description":"Conflict. Chosen UUID is already used. Please choose another one.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemReport"}}}}},"security":[{"Authentication Certificate Hash":[]},{"Authentication Certificate Distinguish Name":[]}]},"delete":{"tags":["Signer Information"],"summary":"Deletes Signer Certificate of a trusted Issuer","operationId":"deleteVerificationInformation","parameters":[{"name":"Content-Type","in":"header","required":true,"schema":{"type":"string"},"example":"application/cms"},{"name":"Content-Encoding","in":"header","required":true,"schema":{"type":"string"},"example":"base64"}],"requestBody":{"description":"Request body with payload. (limited)","content":{"application/cms":{"schema":{"type":"string","example":"MIICyDCCAbCgAwIBAgIGAXR3DZUUMA0GCSqGSIb3DQEBBQUAMBwxCzAJBgNVBAYTAkRFMQ0wCwYDVQQDDARkZW1vMB4XDTIwMDgyNzA4MDY1MloXDTIxMDkxMDA4MDY1MlowHDELMAkGA1UEBhMCREUxDTALBgNVBAMMBGRlbW8wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCKR0TEJOO4z0ks4OMAovcyxuPpeZuR1JykNNFd3OR+vFWJLJtDYgRjtuqSuKCghLa/ci+0yIs3OeitGtajqFIukYksvX2LxOZDYDUbnpGQDPNMVmpEavDBbvKON8C8K036pC41bNvwkTrfUyZ8iE+hV2+kj1SHUyw7jweEUoiwNmMiaXXPiMIOj7D0qnmM+iTGN9g/DrJ/IvvsgiGpK3QlQ5pnHs2BvzrSw4LFAZ8cSQfWKheZVHfQf26mJFdEzowrzfzForDdeFAPIIirhufE3jWFxj1thfztu+VSMj84sDqodEt2VJOY+DvLB1Ls/26LSmFtMnCEuBAhkbQ1E0tbAgMBAAGjEDAOMAwGA1UdEwEB/wQCMAAwDQYJKoZIhvcNAQEFBQADggEBABaMEQz4Gbj+G0SZGZaIDoUFDB6n1R6iUS0zTBgsV8pSpFhwPryRiLdeNzIzsDdQ1ack1NfQ6YPn3/yOJ/SvnXs6n+vOWQW2KsuiymPSd/wjeywRRMfCysHjrmE+m+8lrFDrKuPnrACwQIsX9PDEsRRBnpSy5NKUZn6u3iPV9x6rwYCdCa/8VDGLqVb3eEE5dbFaYG9uW02cSbmsiZm8KmW8b6BFeIwHVRAH6Cs1VZI8UIrdVGCE111tUo/0957rF+/doFyJcwX+4ESH0m2MsHFjXDfGU8yTjiUh/b2Erk4TCmrJpux30QRhsNZwkmEYSbRv+vp5/obgH1mL5ouoV5I="}}},"required":true},"responses":{"204":{"description":"Certificate was deleted successfully."},"400":{"description":"Bad request. Possible reasons: Wrong Format, no CMS, not the correct signing alg, missing attributes, invalid signature, certificate not signed by known CA","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemReport"}}}},"401":{"description":"Unauthorized. No Access to the system. (Client Certificate not present or whitelisted)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemReport"}}}}},"security":[{"Authentication Certificate Hash":[]},{"Authentication Certificate Distinguish Name":[]}]}},"/signerCertificate/delete":{"post":{"tags":["Signer Information"],"summary":"Deletes Signer Certificate of a trusted Issuer","description":"This endpoint is a workaround alias endpoint. This should only be used if it is not possible to send http payloads with DELETE requests.","operationId":"deleteVerificationInformationAlias","parameters":[{"name":"Content-Type","in":"header","required":true,"schema":{"type":"string"},"example":"application/cms"},{"name":"Content-Encoding","in":"header","required":true,"schema":{"type":"string"},"example":"base64"}],"requestBody":{"description":"Request body with payload. (limited)","content":{"application/cms":{"schema":{"type":"string","example":"MIICyDCCAbCgAwIBAgIGAXR3DZUUMA0GCSqGSIb3DQEBBQUAMBwxCzAJBgNVBAYTAkRFMQ0wCwYDVQQDDARkZW1vMB4XDTIwMDgyNzA4MDY1MloXDTIxMDkxMDA4MDY1MlowHDELMAkGA1UEBhMCREUxDTALBgNVBAMMBGRlbW8wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCKR0TEJOO4z0ks4OMAovcyxuPpeZuR1JykNNFd3OR+vFWJLJtDYgRjtuqSuKCghLa/ci+0yIs3OeitGtajqFIukYksvX2LxOZDYDUbnpGQDPNMVmpEavDBbvKON8C8K036pC41bNvwkTrfUyZ8iE+hV2+kj1SHUyw7jweEUoiwNmMiaXXPiMIOj7D0qnmM+iTGN9g/DrJ/IvvsgiGpK3QlQ5pnHs2BvzrSw4LFAZ8cSQfWKheZVHfQf26mJFdEzowrzfzForDdeFAPIIirhufE3jWFxj1thfztu+VSMj84sDqodEt2VJOY+DvLB1Ls/26LSmFtMnCEuBAhkbQ1E0tbAgMBAAGjEDAOMAwGA1UdEwEB/wQCMAAwDQYJKoZIhvcNAQEFBQADggEBABaMEQz4Gbj+G0SZGZaIDoUFDB6n1R6iUS0zTBgsV8pSpFhwPryRiLdeNzIzsDdQ1ack1NfQ6YPn3/yOJ/SvnXs6n+vOWQW2KsuiymPSd/wjeywRRMfCysHjrmE+m+8lrFDrKuPnrACwQIsX9PDEsRRBnpSy5NKUZn6u3iPV9x6rwYCdCa/8VDGLqVb3eEE5dbFaYG9uW02cSbmsiZm8KmW8b6BFeIwHVRAH6Cs1VZI8UIrdVGCE111tUo/0957rF+/doFyJcwX+4ESH0m2MsHFjXDfGU8yTjiUh/b2Erk4TCmrJpux30QRhsNZwkmEYSbRv+vp5/obgH1mL5ouoV5I="}}},"required":true},"responses":{"204":{"description":"Certificate was deleted successfully."},"400":{"description":"Bad request. Possible reasons: Wrong Format, no CMS, not the correct signing alg, missing attributes, invalid signature, certificate not signed by known CA","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemReport"}}}},"401":{"description":"Unauthorized. No Access to the system. (Client Certificate not present or whitelisted)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemReport"}}}}},"security":[{"Authentication Certificate Hash":[]},{"Authentication Certificate Distinguish Name":[]}]}},"/rules":{"post":{"tags":["Validation Rules"],"summary":"Create a new versions of a rule with id","operationId":"uploadValidationRule","requestBody":{"description":"CMS Signed String with Validation Rule. Needs to be signed with valid Upload Certificate","content":{"application/cms-text":{"schema":{"type":"string","example":"MIICyDCCAbCgAwIBAgIGAXR3DZUUMA0GCSqGSIb3DQEBBQUAMBwxCzAJBgNVBAYTAkRFMQ0wCwYDVQQDDARkZW1vMB4XDTIwMDgyNzA4MDY1MloXDTIxMDkxMDA4MDY1MlowHDELMAkGA1UEBhMCREUxDTALBgNVBAMMBGRlbW8wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCKR0TEJOO4z0ks4OMAovcyxuPpeZuR1JykNNFd3OR+vFWJLJtDYgRjtuqSuKCghLa/ci+0yIs3OeitGtajqFIukYksvX2LxOZDYDUbnpGQDPNMVmpEavDBbvKON8C8K036pC41bNvwkTrfUyZ8iE+hV2+kj1SHUyw7jweEUoiwNmMiaXXPiMIOj7D0qnmM+iTGN9g/DrJ/IvvsgiGpK3QlQ5pnHs2BvzrSw4LFAZ8cSQfWKheZVHfQf26mJFdEzowrzfzForDdeFAPIIirhufE3jWFxj1thfztu+VSMj84sDqodEt2VJOY+DvLB1Ls/26LSmFtMnCEuBAhkbQ1E0tbAgMBAAGjEDAOMAwGA1UdEwEB/wQCMAAwDQYJKoZIhvcNAQEFBQADggEBABaMEQz4Gbj+G0SZGZaIDoUFDB6n1R6iUS0zTBgsV8pSpFhwPryRiLdeNzIzsDdQ1ack1NfQ6YPn3/yOJ/SvnXs6n+vOWQW2KsuiymPSd/wjeywRRMfCysHjrmE+m+8lrFDrKuPnrACwQIsX9PDEsRRBnpSy5NKUZn6u3iPV9x6rwYCdCa/8VDGLqVb3eEE5dbFaYG9uW02cSbmsiZm8KmW8b6BFeIwHVRAH6Cs1VZI8UIrdVGCE111tUo/0957rF+/doFyJcwX+4ESH0m2MsHFjXDfGU8yTjiUh/b2Erk4TCmrJpux30QRhsNZwkmEYSbRv+vp5/obgH1mL5ouoV5I="}}},"required":true},"responses":{"201":{"description":"Created successful."},"400":{"description":"Bad data submitted. See ProblemReport for more details.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProblemReport"}}}},"403":{"description":"You are not allowed to create this validation rules.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProblemReport"}}}}},"security":[{"Authentication Certificate Hash":[]},{"Authentication Certificate Distinguish Name":[]}]},"delete":{"tags":["Validation Rules"],"summary":"Delete all versions of a rule with id","operationId":"deleteValidationRules","requestBody":{"description":"CMS Signed String representing the Rule ID. Needs to be signed with valid Upload Certificate","content":{"application/cms-text":{"schema":{"type":"string","example":"MIICyDCCAbCgAwIBAgIGAXR3DZUUMA0GCSqGSIb3DQEBBQUAMBwxCzAJBgNVBAYTAkRFMQ0wCwYDVQQDDARkZW1vMB4XDTIwMDgyNzA4MDY1MloXDTIxMDkxMDA4MDY1MlowHDELMAkGA1UEBhMCREUxDTALBgNVBAMMBGRlbW8wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCKR0TEJOO4z0ks4OMAovcyxuPpeZuR1JykNNFd3OR+vFWJLJtDYgRjtuqSuKCghLa/ci+0yIs3OeitGtajqFIukYksvX2LxOZDYDUbnpGQDPNMVmpEavDBbvKON8C8K036pC41bNvwkTrfUyZ8iE+hV2+kj1SHUyw7jweEUoiwNmMiaXXPiMIOj7D0qnmM+iTGN9g/DrJ/IvvsgiGpK3QlQ5pnHs2BvzrSw4LFAZ8cSQfWKheZVHfQf26mJFdEzowrzfzForDdeFAPIIirhufE3jWFxj1thfztu+VSMj84sDqodEt2VJOY+DvLB1Ls/26LSmFtMnCEuBAhkbQ1E0tbAgMBAAGjEDAOMAwGA1UdEwEB/wQCMAAwDQYJKoZIhvcNAQEFBQADggEBABaMEQz4Gbj+G0SZGZaIDoUFDB6n1R6iUS0zTBgsV8pSpFhwPryRiLdeNzIzsDdQ1ack1NfQ6YPn3/yOJ/SvnXs6n+vOWQW2KsuiymPSd/wjeywRRMfCysHjrmE+m+8lrFDrKuPnrACwQIsX9PDEsRRBnpSy5NKUZn6u3iPV9x6rwYCdCa/8VDGLqVb3eEE5dbFaYG9uW02cSbmsiZm8KmW8b6BFeIwHVRAH6Cs1VZI8UIrdVGCE111tUo/0957rF+/doFyJcwX+4ESH0m2MsHFjXDfGU8yTjiUh/b2Erk4TCmrJpux30QRhsNZwkmEYSbRv+vp5/obgH1mL5ouoV5I="}}},"required":true},"responses":{"204":{"description":"Delete successful."},"400":{"description":"Bad data submitted. See ProblemReport for more details.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProblemReport"}}}},"403":{"description":"You are not allowed to delete these validation rules.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProblemReport"}}}},"404":{"description":"Validation rule not found.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProblemReport"}}}}},"security":[{"Authentication Certificate Hash":[]},{"Authentication Certificate Distinguish Name":[]}]}},"/valuesets":{"get":{"tags":["Valueset"],"summary":"Gets a list of available valuesets.","operationId":"getValuesetIds","responses":{"200":{"description":"List of valueset ids","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}},"401":{"description":"Unauthorized. No Access to the system. (Client Certificate not present or whitelisted)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemReport"}}}}},"security":[{"Authentication Certificate Hash":[]},{"Authentication Certificate Distinguish Name":[]}]}},"/valuesets/{id}":{"get":{"tags":["Valueset"],"summary":"Requests a specific valueset by its id.","operationId":"getValueset","parameters":[{"name":"id","in":"path","description":"Valueset ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Valueset JSON Object","content":{"*/*":{"schema":{"type":"string"}}}},"401":{"description":"Unauthorized. No Access to the system. (Client Certificate not present or whitelisted)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemReport"}}}},"404":{"description":"Valueset not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemReport"}}}}},"security":[{"Authentication Certificate Hash":[]},{"Authentication Certificate Distinguish Name":[]}]}},"/trustList":{"get":{"tags":["Trust Lists"],"summary":"Returns the full list of trusted certificates.","operationId":"downloadTrustList","responses":{"200":{"description":"Returns the full list of trusted parties.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TrustList"}}}}},"401":{"description":"Unauthorized. No Access to the system. (Client Certificate not present or whitelisted)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemReport"}}}}},"security":[{"Authentication Certificate Hash":[]},{"Authentication Certificate Distinguish Name":[]}]}},"/trustList/{type}":{"get":{"tags":["Trust Lists"],"summary":"Returns a filtered list of trusted certificates.","operationId":"downloadTrustListFilteredByType","parameters":[{"name":"type","in":"path","description":"Certificate Type to filter for","required":true,"schema":{"type":"string","enum":["AUTHENTICATION","UPLOAD","CSCA","DSC"]}}],"responses":{"200":{"description":"Returns a filtered list of trusted certificates.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TrustList"}}}}},"400":{"description":"Bad request. Unknown Certificate Type.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemReport"}}}},"401":{"description":"Unauthorized. No Access to the system. (Client Certificate not present or whitelisted)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemReport"}}}}},"security":[{"Authentication Certificate Hash":[]},{"Authentication Certificate Distinguish Name":[]}]}},"/trustList/{type}/{country}":{"get":{"tags":["Trust Lists"],"summary":"Returns a filtered list of trusted certificates.","operationId":"downloadTrustListFilteredByCountryAndType","parameters":[{"name":"type","in":"path","description":"Certificate Type to filter for","required":true,"schema":{"type":"string","enum":["AUTHENTICATION","UPLOAD","CSCA","DSC"]}},{"name":"country","in":"path","description":"2-Digit Country Code to filter for","required":true,"schema":{"maxLength":2,"minLength":2,"type":"string"},"example":"EU"}],"responses":{"200":{"description":"Returns a filtered list of trusted certificates.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TrustList"}}}}},"400":{"description":"Bad request. Unknown Certificate Type or invalid country code.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemReport"}}}},"401":{"description":"Unauthorized. No Access to the system. (Client Certificate not present or whitelisted)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemReport"}}}}},"security":[{"Authentication Certificate Hash":[]},{"Authentication Certificate Distinguish Name":[]}]}},"/rules/{country}":{"get":{"tags":["Validation Rules"],"summary":"Download all rules of country.","operationId":"downloadValidationRules","parameters":[{"name":"country","in":"path","required":true,"schema":{"type":"string"},"example":"EU"}],"responses":{"200":{"description":"Download successful.","content":{"application/json":{}}}},"security":[{"Authentication Certificate Hash":[]},{"Authentication Certificate Distinguish Name":[]}]}},"/countrylist":{"get":{"tags":["Country List"],"summary":"Returns the full list of onboarded countries.","operationId":"downloadCountryList","responses":{"200":{"description":"Returns the full list of onboarded countries.","content":{"application/json":{"schema":{"type":"array","items":{"type":"string","example":"EU"}}}}},"401":{"description":"Unauthorized. No Access to the system. (Client Certificate not present or whitelisted)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemReport"}}}}},"security":[{"Authentication Certificate Hash":[]},{"Authentication Certificate Distinguish Name":[]}]}}},"components":{"schemas":{"ProblemReport":{"type":"object","properties":{"code":{"type":"string","example":"0x001"},"problem":{"type":"string","example":"Signer Certificate is unknown."},"sendValue":{"type":"string","example":"Certificate Thumbprint: 2342424f24c242f42f4b24..."},"details":{"type":"string","example":"Use a known upload certificate to upload signer information."}}},"TrustList":{"type":"object","properties":{"kid":{"type":"string","example":"qroU+hDDovs="},"timestamp":{"type":"string","format":"date-time"},"country":{"type":"string","example":"EU"},"certificateType":{"type":"string","enum":["AUTHENTICATION","UPLOAD","CSCA","DSC"]},"thumbprint":{"type":"string","example":"aaba14fa10c3a2fb441a28af0ec1bb4128153b9ddc796b66bfa04b02ea3e103e"},"signature":{"type":"string","example":"o53CbAa77LyIMFc5Gz+B2Jc275Gdg/SdLayw7gx0GrTcinR95zfTLr8nNHgJMYlX3rD8Y11zB/Osyt0 ... W+VIrYRGSEmgjGy2EwzvA5nVhsaA+/udnmbyQw9LjAOQ=="},"rawData":{"type":"string","example":"MIICyDCCAbCgAwIBAgIGAXR3DZUUMA0GCSqGSIb3DQEBBQUAMBwxCzAJB ... Jpux30QRhsNZwkmEYSbRv+vp5/obgH1mL5ouoV5I="}}}}}}